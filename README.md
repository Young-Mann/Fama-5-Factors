## 运行方法

在 FAMA.ipynb 的第一个 cell 中输入自己的 Tushare API key 后，逐个 cell 运行即可。

## 数据来源

所有数据均来自 Tushare， 以 pickle 形式存储在`example_date` 文件夹中，囊括了 2019.01.01 至 2023.05.31 的股票数据，包括股票的：流通市值、账面市值比、净资产收益率、总资产增长率等。涉及到的变量包括：

| 指标         | 变量名       | 说明                                                         |
| ------------ | ------------ | ------------------------------------------------------------ |
| 股票代码     | ts_code      | Tushare 平台的股票代码                                       |
| 交易日       | trade_date   | 股票的交易日期。对于财务数据，将 end_date（结束日期）记作交易日期 |
| 收益率       | pct_chg      | 股价的月涨跌幅（未复权）                                     |
| 市值         | circ_mv      | 流通市值                                                     |
| 账面市值比   | bm           | P/B 的倒数                                                   |
| 净资产收益率 | q_roe        | 季度 ROE                                                     |
| 总资产增长率 | total_assets | 总资产的同比增长率                                           |

## 因子构建方式

1. SMB构建：在每月末 $M_t$ 使用**流通市值**（变量名：circ_mv）进行排序，并根据该排序划分下一个月 $M_{t+1}$ 的小盘股和大盘股后，计算小盘股组合和大盘股组合的（流通市值加权及等权重）收益率之差。构造后的因子变量名：MKT。
2. HML构建：在每月末 $M_t$ 使用**账面市值比**（变量名：bm）进行排序，并根据该排序划分下一个月 $M_{t+1}$ 的高账面市值比与低账面市值比组合后，计算高账面市值比组合和低账面市值比组合的（流通市值加权及等权重）收益率之差。构造后的因子变量名：BM。
3. RMW构建：在每月末 $M_t$ 使用**净资产收益率**（变量名：q_roe）进行排序，并根据该排序划分下一个月 $M_{t+1}$ 的高盈利股票组合和低盈利组合后，计算高盈利股票组合和低盈利组合的（流通市值加权及等权重）收益率之差。构造后的因子变量名：ROE。
4.  CMA构建：在每月末 $M_t$ 使用**总资产增长率**（变量名：total_assets）进行排序，并根据该排序划分下一个月 $M_{t+1}$ 的高盈利股票组合和低盈利组合后，计算高盈利股票组合和低盈利组合的（流通市值加权及等权重）收益率之差。构造后的因子变量名：INV。
5. MKT：待选范围内的所有股票的流通市值（加权及等权重）之和。
6. Rf: 3 个月 SHIBOR。

